"use strict";(self.webpackChunkweb_template=self.webpackChunkweb_template||[]).push([[792],{735:(e,n,t)=>{var r=t(848),o=t(338),s=t(540);function i(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function a(e){var n=e.question,t=e.selectedAnswers,o=e.onAnswerChange;return(0,r.jsxs)("div",{className:"question-block",children:[(0,r.jsx)("h3",{className:"question-title",children:n.question}),(0,r.jsx)("ul",{className:"options-container",children:n.options.map(function(e){return(0,r.jsx)("li",{children:(0,r.jsxs)("label",{className:"option-label",children:[(0,r.jsx)("input",{type:"single"===n.type?"radio":"checkbox",name:n.id,value:e,checked:t.includes(e),onChange:function(){"single"===n.type?function(e){o([e])}(e):function(e){var n,r=t.includes(e)?t.filter(function(n){return n!==e}):(n=t,function(e){if(Array.isArray(e))return i(e)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,n){if(e){if("string"==typeof e)return i(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?i(e,n):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([e]);o(r)}(e)},className:"option-input visually-hidden"}),(0,r.jsx)("span",{className:"option-checkmark"}),(0,r.jsx)("span",{className:"option-text",children:e})]})},e)})})]})}function c(e){var n=e.progress;return(0,r.jsxs)("div",{className:"progress-bar-container",children:[(0,r.jsx)("div",{className:"progress-bar",children:(0,r.jsx)("div",{className:"progress-fill",style:{width:"".concat(n,"%")}})}),(0,r.jsxs)("span",{className:"progress-text",children:[Math.round(n),"% завершено"]})]})}function l(e){var n=e.currentPageIndex,t=e.totalPages,o=e.onNext,s=e.onPrevious,i=e.isNextDisabled,a=0===n,c=n===t-1;return(0,r.jsxs)("div",{className:"controls-container",children:[(0,r.jsx)("button",{type:"button",onClick:s,disabled:a,className:"control-button control-button--previous",children:"Назад"}),(0,r.jsxs)("span",{className:"page-indicator",children:["Страница ",n+1," из ",t]}),(0,r.jsx)("button",{type:"button",onClick:o,disabled:i,className:"control-button control-button--next",children:c?"Завершить":"Далее"})]})}var u=[{id:"page-1",questions:[{id:"q1",type:"single",question:"Какой ваш любимый цвет?",options:["Красный","Синий","Зеленый","Желтый"]}]},{id:"page-2",questions:[{id:"q2",type:"multiple",question:"Какие жанры книг вы предпочитаете?",options:["Фантастика","Детективы","Романы","Научная литература"]}]},{id:"page-3",questions:[{id:"q3",type:"single",question:"Как часто вы читаете книги?",options:["Ежедневно","Несколько раз в неделю","Раз в неделю","Редко"]}]}];function p(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function d(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){d(e,n,t[n])})}return e}function b(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n.push.apply(n,t)}return n}(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}),e}const m=function(){var e,n,t=(e=(0,s.useState)({currentPageIndex:0,answers:{},isCompleted:!1}),n=2,function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,s=[],i=!0,a=!1;try{for(t=t.call(e);!(i=(r=t.next()).done)&&(s.push(r.value),!n||s.length!==n);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==t.return||t.return()}finally{if(a)throw o}}return s}}(e,n)||function(e,n){if(e){if("string"==typeof e)return p(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?p(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=t[0],i=t[1],m=u[o.currentPageIndex],y=o.currentPageIndex/u.length*100,g=(0,s.useMemo)(function(){return m.questions.every(function(e){return(o.answers[e.id]||[]).length>0})},[m,o.answers]);return o.isCompleted?(0,r.jsxs)("section",{className:"app-container",children:[(0,r.jsx)(c,{progress:100}),(0,r.jsx)("p",{className:"completion-message",children:"Опрос завершен! Спасибо за участие!"})]}):(0,r.jsxs)("section",{className:"app-container",children:[(0,r.jsx)(c,{progress:y}),(0,r.jsx)("div",{className:"questions-container",children:m.questions.map(function(e){return(0,r.jsx)(a,{question:e,selectedAnswers:o.answers[e.id]||[],onAnswerChange:function(n){return function(e,n){i(function(t){return b(f({},t),{answers:b(f({},t.answers),d({},e,n))})})}(e.id,n)}},e.id)})}),(0,r.jsx)(l,{currentPageIndex:o.currentPageIndex,totalPages:u.length,onNext:function(){o.currentPageIndex<u.length-1?i(function(e){return b(f({},e),{currentPageIndex:e.currentPageIndex+1})}):i(function(e){return b(f({},e),{isCompleted:!0})})},onPrevious:function(){i(function(e){return b(f({},e),{currentPageIndex:Math.max(0,e.currentPageIndex-1)})})},isNextDisabled:!g})]})};var y=document.getElementById("root");(0,o.createRoot)(y).render((0,r.jsx)(m,{}))}},e=>{e.O(0,[179],()=>e(e.s=735)),e.O()}]);